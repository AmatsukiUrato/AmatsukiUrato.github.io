<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ci on ぎじゅつわふたー</title><link>https://tech-wafter.net/tags/ci/</link><description>Recent content in ci on ぎじゅつわふたー</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Thu, 02 Apr 2020 02:47:24 +0900</lastBuildDate><atom:link href="https://tech-wafter.net/tags/ci/index.xml" rel="self" type="application/rss+xml"/><item><title>github-actions上でbuildした際、lastmodの更新がすべての記事に適用される問題を解決した</title><link>https://tech-wafter.net/2020/solved-issue-with-github-actions-lastmod-updates-being-applied-to-all-the-articles/</link><pubDate>Thu, 02 Apr 2020 02:47:24 +0900</pubDate><guid>https://tech-wafter.net/2020/solved-issue-with-github-actions-lastmod-updates-being-applied-to-all-the-articles/</guid><description>はじめに hugoのジェネレートをGitHub-actionsを使って、pushするだけでデプロイできるようにしたのですが、全記事の最終更新日が更新されていたため原因調査をおこないました。 TL;DR gitのcloneを行う際に最新コミットしか取得していなかった actions/checkoutを利用する場合は以下の方法でcloneさせ、全履歴を取得する 1 2 3 4 - uses:actions/checkout@v2- name:Checkoutrun:| git fetch --prune --unshallow 試したこと GitHub-actions上とlocalの比較 icon 結果 ✅ 更新対象記事のみlastmodが更新されていた ❎ すべての記事に対して更</description></item><item><title>GitHub-ActionsでカスタムドメインのGitHub-Pagesをデプロイすると、カスタムドメインの登録が消える</title><link>https://tech-wafter.net/2020/deploy-custom-domain-github-pages-on-github-actions/</link><pubDate>Sun, 01 Mar 2020 22:24:43 +0900</pubDate><guid>https://tech-wafter.net/2020/deploy-custom-domain-github-pages-on-github-actions/</guid><description>GitHub-Actionsでデプロイを行うと、customドメインで設定したものが初期化されていました。 原因はGitHub-Actionsで利用しているactions-gh-pagesにて、cnameの設定を忘れていたためでした。 こちらに乗っている通り、with.cnameに自身のカスタムドメイン名を記入すれば正常にデプロイされるはずです。 1 2 3 4 5 6 - name:Deployuses:peaceiris/actions-gh-pages@v3with:github_token:${{secrets.GITHUB_TOKEN}}publish_dir:./publiccname:github.com</description></item><item><title>Github-Actionsでhugoのデプロイを自動化してみた</title><link>https://tech-wafter.net/2020/build-hugo-homepage-by-github-action/</link><pubDate>Mon, 10 Feb 2020 12:46:44 +0900</pubDate><guid>https://tech-wafter.net/2020/build-hugo-homepage-by-github-action/</guid><description>はじめに 結構前からGitHub-Actionsを使ってみたいなと思っていましたが、題材がなく困ってました。 そこで、「なにか定期的にデプロイしてるやつってあったっけ」と考えたところ 「そういやhugoのデプロイって自動化できるんじゃね？」という考えに行き着き、実際にやってみた感じです。 TL;DR この記事はhugo用リポジトリとhomepage用リポジトリで分割している場合の説明です GitHub-Actionsを利用してデプロイすることは可能 hugo用のactionがすでに存在するので、そちらを利用すると良い</description></item></channel></rss>